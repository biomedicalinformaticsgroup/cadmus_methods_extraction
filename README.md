# cadmus_methods_extraction

A lightweight standalone tool for extracting the Methods section from biomedical full-text articles, designed as a complement to [cadmus](https://github.com/biomedicalinformaticsgroup/cadmus).

This repository provides a solution for extracting the Methods (or Materials and Methods) section from the full-text files retrieved by `cadmus`. It operates on the structured outputs generated by `cadmus` (XML, HTML, PDF, or plain-text files) and can be used as an additional step to `cadmus`.

## Installation
cadmus_methods_extraction has a number of dependencies on other Python packages, as well as Python version requirements. It is recommended to install it in an isolated environment.

```bash
conda create -n cadmus_methods_extraction python=3.11 -y
conda activate cadmus_methods_extraction
conda install -c conda-forge poppler
conda install pip
git clone https://github.com/biomedicalinformaticsgroup/cadmus_methods_extraction.git
pip install ./cadmus_methods_extraction
```

## Methods Section Extraction
To run the methods section extraction, you need to have the `output` directory from `cadmus`. The methods section extraction will create a new directory with the extracted methods sections from each data type, as well as log files.

```python
from cadmus_methods_extraction import extract_methods
extract_methods(
    cadmus_base_dir="output",
    output_base="output_methods",
    logs_base="output_methods/logs"
)
```

This function will:
1. Load the metadata from the `retrieved_df2` DataFrame.
2. Filter to records that have at least one available format (XML, HTML, PDF, or Plain text).
3. Optionally restrict to a single format via `select_format`, keeping only rows
   where that format flag is 1 and all other format flags are 0.
4. Iterate over each remaining PMID and dispatch it to the first format handler
   (XML → HTML → PDF → Plain) whose `can_handle` method returns True.
5. Collect success/failure counts and subtitle counts for each format and overall.
6. Write per-format and overall summary statistics to log files.

This functionality was developed and contributed by Simona E. Doneva (donevasimona@gmail.com).

## Important - Please Read!

Published literature can be subject to copyright with restrictions on redistribution. Users need to be mindful of the data storage requirements and how the derived products are presented and shared. Many publishers provide guidance on the use of content for redistribution and use in research.
